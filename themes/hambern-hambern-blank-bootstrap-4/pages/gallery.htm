title = "gallery"
url = "/gallery"
layout = "defaultNoJumbotron"
is_hidden = 0
robot_index = "index"
robot_follow = "follow"
==
use Cms\Classes\Theme;

function onStart() {
    $theme = Theme::getActiveTheme();
    $files = [];
    $di = new \RecursiveDirectoryIterator($theme->getActiveTheme()->getPath() . '/assets/work_images/');

    foreach (new \RecursiveIteratorIterator($di) as $filename => $file) {
        if ($file->getFilename() == "." OR $file->getFilename() == "..")
            continue;
        $files[] = str_replace($theme->getActiveTheme()->getPath(), '', $filename);
    }

    $this['files'] = $files;
    $this['file'] = '';
    $this['testpic'] = "<div class='gg-element'><img src='{{'".$files[0]."'|theme}}'/></div>";
}
==
<section>
    <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="gallery-intro">
            <p>
                Teostame plaatimistöid kõrge kvaliteedi ja professionaalsusega.
                Allolevast galeerist leiad pilte meie tehtud töödest.
            </p>
        </div>
        <div id="work-gallery" class="images-grid images-grid-work">
            {% for file in files %}
            <a href="{{ file|theme }}"
               class="image-wrapper"
               data-width="1024"
               data-height="768"
               data-toggle="lightbox"
               data-gallery="workdone-gallery">

                <img class="image-thumb img-fluid" src="{{ file|theme }}" />
            </a>
            {% endfor %}
        </div>
    </div>
</section>
